<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Generator" content="EditPlus®">
    <title>第八周</title>
    <style>
        body{
            margin: 0;
        }
        div{
            margin:20px;
            height:100px;
            width:100px;
            border:1px solid;
            background:blue;
            border-radius:50%;
            margin:0;
            position:absolute;
            transition:all 0.5s ;
        }
        div p{
            font-size:50px;
            margin:auto;
            padding:20%;
            color:red;
            text-shadow:2px 3px black;
        }
        .bd{
            border-radius:0;
            background:yellow;
        }
        .bd p{
            color:black;
            text-shadow:0 0;
        }
    </style>
</head>
<body style="width: 516px; height: 704px;">
<script>
    var Balls=[];
    var s=0;
    const NUM=6;
    const S = ['考生的信息，在这里显示。离离原上草，一岁一枯荣。' , '艳色天下重，西施宁久微。朝为越溪女，暮作吴宫妃。' , '绝代有佳人，幽居在空谷。自云良家子，零落依草木。','合昏尚知时，鸳鸯不独宿。但见新人笑，那闻旧人哭！'] ;

    document.body.onmousemove=document.body.ontouchmove=function(){
        for (let balls of Balls )
        {
            balls.setPosition();
        }
    };
    document.body.onclick=function(){
        for (let balls of Balls )
        {
            balls.randPosition();
        }
    };
    document.body.ondblclick=function(){
        for(let balls of Balls){
            this.removeChild(balls.dom);
        }
        Balls=[];
        s===S.length-1?s=0:s++;
        for (var i=0;i<S[s].length ;i++ )
        {
            //获取字的列数
            var x0=i%NUM;
            //获取字的行数
            var y0=Math.floor(i/NUM);
            var Object=new Ball(x0,y0);
            Object.createDivDom(S[s][i]);
            Object.randPosition();
            Balls.push(Object);
        }

    };
    var bodyWidth=window.innerWidth;
    var bodyHeight=window.innerHeight;
    var r=bodyWidth>bodyHeight?bodyHeight/(NUM*4/3):bodyWidth/(NUM*4/3);
    document.body.style.width=bodyWidth+'px';
    document.body.style.height=bodyHeight+'px';
    for(var i=0 ;i < S[s].length ; i++){
        //用来计算每个元素的横纵坐标的计数
        var x0 = i % NUM;
        var y0 = Math.floor ( i / NUM ) ;
        var ballObj = new Ball( x0 , y0 ) ;
        ballObj.createDivDom(S[s][i]) ;
        ballObj.randPosition() ; Balls.push(ballObj) ; }

    function Ball(x0,y0){
        this.x0=x0;
        this.y0=y0;
        this.dom=null;
        this.createDivDom=function(s){
            var div=document.createElement('div');
            var p=document.createElement('p');
            p.textContent=s;
            p.style.fontSize=r/2+'px';
            div.style.width=div.style.height=r+'px';
            if(x0==5||y0==4){
                div.className='bd';
            }
            div.appendChild(p);
            document.body.appendChild(div);
            this.dom=div;
        };
        this.randPosition=function(){
            var x=Math.floor(Math.random()*bodyWidth);
            var y=Math.floor(Math.random()*bodyHeight);
            if (x>=bodyWidth-r)
            {
                x=bodyWidth-r;
            }
            if (y>=bodyHeight-r)
            {
                y=bodyHeight-r;
            }
            this.dom.style.left=x+'px';
            this.dom.style.top=y+'px';
        };
        this.setPosition=function(){
            var x=Math.floor(x0)*1.2*r;
            var y=Math.floor(y0)*1.2*r;
            this.dom.style.left=x+r+'px';
            this.dom.style.top=y+r+'px';
        };
    };
</script>
</body>
</html>
